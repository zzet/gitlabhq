.btn-group.tree-btn-group
  -# only show edit link for text files
  - if @blob.text?
    = link_to "edit", project_edit_tree_path(@project, @id), class: "btn btn-tiny", disabled: !allowed_tree_edit?
  = link_to "raw", project_raw_path(@project, @id), class: "btn btn-tiny", target: "_blank"
  -# only show normal/blame view links for text files
  - if @blob.text?
    - if current_page? project_blame_path(@project, @id)
      = link_to "normal view", project_blob_path(@project, @id), class: "btn btn-tiny"
    - else
      = link_to "blame", project_blame_path(@project, @id), class: "btn btn-tiny" unless @blob.empty?
  = link_to "history", project_commits_path(@project, @id), class: "btn btn-tiny"
  - if @file_token
    = link_to "public", project_raw_path(@project, @id, file_auth_token: @file_token.token), class: "btn btn-tiny", target: "_blank"
  - else
    = link_to "public", project_tokens_path(@project, id: @id), method: :post, class: "btn btn-tiny", target: "_blank"
